{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const Nav=()=>{const[isLoggedIn,setIsLoggedIn]=useState(!!localStorage.getItem('username'));// Used this to change the nav bar accordingly when user is logged in\nuseEffect(()=>{const handleLoginStateChange=()=>{setIsLoggedIn(!!localStorage.getItem('username'));};window.addEventListener('loginStateChanged',handleLoginStateChange);return()=>{window.removeEventListener('loginStateChanged',handleLoginStateChange);};},[]);const handleLogout=()=>{localStorage.removeItem('username');setIsLoggedIn(false);window.dispatchEvent(new Event('loginStateChanged'));};return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-body-tertiary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/images/favicon.png\"),alt:\"Peep logo\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[!isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{id:\"register-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/register\",children:\"Registration\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"login-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"Login\"})})]}),isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{id:\"peep-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/peep\",children:\"Peep\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"peeps-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/peeps\",children:\"Peeps\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"profile-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"logout-link\",className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",onClick:handleLogout,children:\"Logout\"})})]})]})})]})})});};","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Nav","isLoggedIn","setIsLoggedIn","localStorage","getItem","handleLoginStateChange","window","addEventListener","removeEventListener","handleLogout","removeItem","dispatchEvent","Event","children","className","to","src","concat","process","env","PUBLIC_URL","alt","type","id","onClick"],"sources":["/Users/sanket/Documents/SUNY New Paltz/Classes/Summer Courses/UI Programming/bulbul-backend/src/frontend/src/components/Nav.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Nav = () => {\n    const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('username'));\n\n\n    // Used this to change the nav bar accordingly when user is logged in\n    useEffect(() => {\n        const handleLoginStateChange = () => {\n            setIsLoggedIn(!!localStorage.getItem('username'));\n        };\n\n        window.addEventListener('loginStateChanged', handleLoginStateChange);\n\n        return () => {\n            window.removeEventListener('loginStateChanged', handleLoginStateChange);\n        };\n    }, []);\n\n    const handleLogout = () => {\n        localStorage.removeItem('username');\n        setIsLoggedIn(false);\n        window.dispatchEvent(new Event('loginStateChanged'));\n    };\n\n    return (\n        <header>\n            <nav className=\"navbar navbar-expand-lg bg-body-tertiary\">\n                <div className=\"container-fluid\">\n                    <Link className=\"navbar-brand\" to=\"/\">\n                        <img src={`${process.env.PUBLIC_URL}/images/favicon.png`} alt=\"Peep logo\" />\n                    </Link>\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\"\n                        aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                        <ul className=\"navbar-nav\">\n                            {!isLoggedIn && (\n                                <>\n                                    <li id=\"register-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/register\">Registration</Link>\n                                    </li>\n                                    <li id=\"login-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/login\">Login</Link>\n                                    </li>\n                                </>\n                            )}\n                            {isLoggedIn && (\n                                <>\n                                    <li id=\"peep-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/peep\">Peep</Link>\n                                    </li>\n                                    <li id=\"peeps-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/peeps\">Peeps</Link>\n                                    </li>\n                                    <li id=\"profile-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/profile\">Profile</Link>\n                                    </li>\n                                    <li id=\"logout-link\" className=\"nav-item\">\n                                        <Link className=\"nav-link\" to=\"/\" onClick={handleLogout}>Logout</Link>\n                                    </li>\n                                </>\n                            )}\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        </header>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}